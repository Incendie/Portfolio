"use strict";

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var portfolio = {};

portfolio.contrastNav = function () {
  var scrollStart = 0;
  var headerHomeChange = $('#home').offset().top;
  var headerAboutChange = $('#home').offset().top;
  var aboutContactChange = $('#about').offset().top;
  var galleryChange = $('#gallery').offset().top;
  var inputNameChange = $('#formName').offset().top;
  var inputEmailChange = $('#formEmail').offset().top;
  var textareaChange = $('textarea').offset().top;
  var skillChange = $('#skills').offset().top;
  var contactChange = $('#contact').offset().top;
  var footerChange = $('footer').offset().top;
  var mq1200 = window.matchMedia("(max-width: 1200px)");
  var mq768 = window.matchMedia("(max-width: 768px)"); // if (!mq768.matches){

  $(document).scroll(function () {
    scrollStart = $(document).scrollTop();

    if (scrollStart > headerHomeChange + 70 && scrollStart < headerHomeChange + 450) {
      if (!mq1200.matches) {
        $(".header__nav li:first-child > a").addClass("contrast");
      }

      if (scrollStart > headerHomeChange + 125) {
        $(".header__nav li:nth-child(2) > a").addClass("contrast");
      }

      if (scrollStart > headerHomeChange + 325) {
        $(".header__nav li:nth-child(2) > a").removeClass("contrast");
      }
    } else if (scrollStart > aboutContactChange + 125 && scrollStart < aboutContactChange + 225 && !mq1200.matches) {
      $(".header__nav li:last-child > a").addClass("contrast");
    } else if (scrollStart > skillChange - 100 && scrollStart < skillChange + 775 || scrollStart > contactChange - 100) {
      if (scrollStart > inputNameChange - 100 && scrollStart < inputNameChange - 30) {
        $(".header__nav li:nth-child(2) > a").removeClass("contrast");
        $(".header__nav li:nth-child(3) > a").removeClass("contrast");

        if (mq1200.matches) {
          $(".header__nav li:nth-child(4) > a").removeClass("contrast");
          $(".header__nav li:last-child > a").removeClass("contrast");
        }
      } else if (scrollStart > inputEmailChange - 100 && scrollStart < inputEmailChange - 30) {
        $(".header__nav li:nth-child(2) > a").removeClass("contrast");
        $(".header__nav li:nth-child(3) > a").removeClass("contrast");

        if (mq1200.matches) {
          $(".header__nav li:nth-child(4) > a").removeClass("contrast");
          $(".header__nav li:last-child > a").removeClass("contrast");
        }
      } else if (scrollStart > textareaChange - 100 && scrollStart < textareaChange + 125) {
        $(".header__nav li:nth-child(2) > a").removeClass("contrast");
        $(".header__nav li:nth-child(3) > a").removeClass("contrast");

        if (mq1200.matches) {
          $(".header__nav li:nth-child(4) > a").removeClass("contrast");
          $(".header__nav li:last-child > a").removeClass("contrast");
        }
      } else if (scrollStart > footerChange - 100) {
        $(".header__nav li > a").removeClass("contrast");
        $(".hamburger span").removeClass("contrast");
        $(".hamburger").removeClass("contrast");
      } else {
        $(".header__nav li > a").addClass("contrast");
        $(".hamburger span").addClass("contrast");
        $(".hamburger").addClass("contrast");
      }
    } else {
      $(".header__nav li > a").removeClass("contrast");
      $(".hamburger span").removeClass("contrast");
      $(".hamburger").removeClass("contrast");
    }
  }); // }
};

portfolio.hamburgerClick = function () {
  $('.hamburger').click(function () {
    $(this).toggleClass('open');
    $('.header__nav > ul').toggleClass('open');
    $("nav").show();
    var mq768 = window.matchMedia("(max-width: 768px)");

    if (mq768.matches) {
      $("nav").toggleClass('mq');
      $('nav > .hamburger > span').toggleClass('mq');
    }
  });
};

portfolio.flickity = function () {
  var _$$flickity;

  $('.main-carousel').flickity((_$$flickity = {
    // options
    cellAlign: 'left',
    contain: true,
    accessibility: true,
    setGallerySize: true
  }, _defineProperty(_$$flickity, "cellAlign", 'center'), _defineProperty(_$$flickity, "cellSelector", '.carousel-cell'), _defineProperty(_$$flickity, "imagesLoaded", true), _defineProperty(_$$flickity, "wrapAround", true), _defineProperty(_$$flickity, "autoPlay", 3000), _defineProperty(_$$flickity, "pauseAutoPlayOnHover", false), _$$flickity));
};

portfolio.emailAddress = function () {
  var email = "contact";
  var domain = "ansonli.io";
  $('.emailAddy').html("<a href=\"mailto:".concat(email, "@").concat(domain, "\">").concat(email, "@").concat(domain, "</a>"));
};

portfolio.init = function () {
  portfolio.emailAddress();
  portfolio.flickity();
  portfolio.hamburgerClick();
  portfolio.contrastNav();
};

$(function () {
  portfolio.init();
});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsicG9ydGZvbGlvIiwiY29udHJhc3ROYXYiLCJzY3JvbGxTdGFydCIsImhlYWRlckhvbWVDaGFuZ2UiLCIkIiwib2Zmc2V0IiwidG9wIiwiaGVhZGVyQWJvdXRDaGFuZ2UiLCJhYm91dENvbnRhY3RDaGFuZ2UiLCJnYWxsZXJ5Q2hhbmdlIiwiaW5wdXROYW1lQ2hhbmdlIiwiaW5wdXRFbWFpbENoYW5nZSIsInRleHRhcmVhQ2hhbmdlIiwic2tpbGxDaGFuZ2UiLCJjb250YWN0Q2hhbmdlIiwiZm9vdGVyQ2hhbmdlIiwibXExMjAwIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1xNzY4IiwiZG9jdW1lbnQiLCJzY3JvbGwiLCJzY3JvbGxUb3AiLCJtYXRjaGVzIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImhhbWJ1cmdlckNsaWNrIiwiY2xpY2siLCJ0b2dnbGVDbGFzcyIsInNob3ciLCJmbGlja2l0eSIsImNlbGxBbGlnbiIsImNvbnRhaW4iLCJhY2Nlc3NpYmlsaXR5Iiwic2V0R2FsbGVyeVNpemUiLCJlbWFpbEFkZHJlc3MiLCJlbWFpbCIsImRvbWFpbiIsImh0bWwiLCJpbml0Il0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsSUFBTUEsU0FBUyxHQUFHLEVBQWxCOztBQUVBQSxTQUFTLENBQUNDLFdBQVYsR0FBd0IsWUFBTTtBQUM1QixNQUFJQyxXQUFXLEdBQUcsQ0FBbEI7QUFDQSxNQUFJQyxnQkFBZ0IsR0FBR0MsQ0FBQyxDQUFDLE9BQUQsQ0FBRCxDQUFXQyxNQUFYLEdBQW9CQyxHQUEzQztBQUNBLE1BQUlDLGlCQUFpQixHQUFHSCxDQUFDLENBQUMsT0FBRCxDQUFELENBQVdDLE1BQVgsR0FBb0JDLEdBQTVDO0FBQ0EsTUFBSUUsa0JBQWtCLEdBQUdKLENBQUMsQ0FBQyxRQUFELENBQUQsQ0FBWUMsTUFBWixHQUFxQkMsR0FBOUM7QUFDQSxNQUFJRyxhQUFhLEdBQUdMLENBQUMsQ0FBQyxVQUFELENBQUQsQ0FBY0Ms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d0IsV0FBN0IsQ0FBeUMsSUFBekM7QUFDRDtBQUNGLEdBVkQ7QUFXRCxDQVpEOztBQWNBNUIsU0FBUyxDQUFDOEIsUUFBVixHQUFxQixZQUFNO0FBQUE7O0FBQ3pCMUIsRUFBQUEsQ0FBQyxDQUFDLGdCQUFELENBQUQsQ0FBb0IwQixRQUFwQjtBQUNFO0FBQ0FDLElBQUFBLFNBQVMsRUFBRSxNQUZiO0FBR0VDLElBQUFBLE9BQU8sRUFBRSxJQUhYO0FBSUVDLElBQUFBLGFBQWEsRUFBRSxJQUpqQjtBQUtFQyxJQUFBQSxjQUFjLEVBQUU7QUFMbEIsK0NBTWEsUUFOYixnREFPZ0IsZ0JBUGhCLGdEQVFnQixJQVJoQiw4Q0FTYyxJQVRkLDRDQVVZLElBVlosd0RBWXdCLEtBWnhCO0FBY0QsQ0FmRDs7QUFpQkFsQyxTQUFTLENBQUNtQyxZQUFWLEdBQXlCLFlBQU07QUFDN0IsTUFBSUMsS0FBSyxHQUFHLFNBQVo7QUFDQSxNQUFJQyxNQUFNLEdBQUcsWUFBYjtBQUNBakMsRUFBQUEsQ0FBQyxDQUFDLFlBQUQsQ0FBRCxDQUFnQmtDLElBQWhCLDRCQUF3Q0YsS0FBeEMsY0FBaURDLE1BQWpELGdCQUE0REQsS0FBNUQsY0FBcUVDLE1BQXJFO0FBQ0QsQ0FKRDs7QUFNQXJDLFNBQVMsQ0FBQ3VDLElBQVYsR0FBaUIsWUFBTTtBQUNyQnZDLEVBQUFBLFNBQVMsQ0FBQ21DLFlBQVY7QUFDQW5DLEVBQUFBLFNBQVMsQ0FBQzhCLFFBQVY7QUFDQTlCLEVBQUFBLFNBQVMsQ0FBQzBCLGNBQVY7QUFDQTFCLEVBQUFBLFNBQVMsQ0FBQ0MsV0FBVjtBQUNELENBTEQ7O0FBT0FHLENBQUMsQ0FBQyxZQUFNO0FBQ05KLEVBQUFBLFNBQVMsQ0FBQ3VDLElBQVY7QUFDRCxDQUZBLENBQUQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBwb3J0Zm9saW8gPSB7fTtcclxuXHJcbnBvcnRmb2xpby5jb250cmFzdE5hdiA9ICgpID0+IHtcclxuICBsZXQgc2Nyb2xsU3RhcnQgPSAwO1xyXG4gIGxldCBoZWFkZXJIb21lQ2hhbmdlID0gJCgnI2hvbWUnKS5vZmZzZXQoKS50b3A7XHJcbiAgbGV0IGhlYWRlckFib3V0Q2hhbmdlID0gJCgnI2hvbWUnKS5vZmZzZXQoKS50b3A7XHJcbiAgbGV0IGFib3V0Q29udGFjdENoYW5nZSA9ICQoJyNhYm91dCcpLm9mZnNldCgpLnRvcDtcclxuICBsZXQgZ2FsbGVyeUNoYW5nZSA9ICQoJyNnYWxsZXJ5Jykub2Zmc2V0KCkudG9wO1xyXG4gIGxldCBpbnB1dE5hbWVDaGFuZ2UgPSAkKCcjZm9ybU5hbWUnKS5vZmZzZXQoKS50b3A7XHJcbiAgbGV0IGlucHV0RW1haWxDaGFuZ2UgPSAkKCcjZm9ybUVtYWlsJykub2Zmc2V0KCkudG9wO1xyXG4gIGxldCB0ZXh0YXJlYUNoYW5nZSA9ICQoJ3RleHRhcmVhJykub2Zmc2V0KCkudG9wO1xyXG4gIGxldCBza2lsbENoYW5nZSA9ICQoJyNza2lsbHMnKS5vZmZzZXQoKS50b3A7XHJcbiAgbGV0IGNvbnRhY3RDaGFuZ2UgPSAkKCcjY29udGFjdCcpLm9mZnNldCgpLnRvcDtcclxuICBsZXQgZm9vdGVyQ2hhbmdlID0gJCgnZm9vdGVyJykub2Zmc2V0KCkudG9wO1xyXG4gIGNvbnN0IG1xMTIwMCA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogMTIwMHB4KVwiKTtcclxuICBjb25zdCBtcTc2OCA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKG1heC13aWR0aDogNzY4cHgpXCIpO1xyXG5cclxuICAvLyBpZiAoIW1xNzY4Lm1hdGNoZXMpe1xyXG4gICQoZG9jdW1lbnQpLnNjcm9sbCgoKSA9PiB7XHJcbiAgICBzY3JvbGxTdGFydCA9ICQoZG9jdW1lbnQpLnNjcm9sbFRvcCgpO1xyXG4gICAgaWYgKChzY3JvbGxTdGFydCA+IGhlYWRlckhvbWVDaGFuZ2UgKyA3MCAmJiBzY3JvbGxTdGFydCA8IGhlYWRlckhvbWVDaGFuZ2UgKyA0NTApKSB7XHJcbiAgICAgIGlmICghbXExMjAwLm1hdGNoZXMpIHtcclxuICAgICAgICAkKFwiLmhlYWRlcl9fbmF2IGxpOmZpcnN0LWNoaWxkID4gYVwiKS5hZGRDbGFzcyhcImNvbnRyYXN0XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzY3JvbGxTdGFydCA+IGhlYWRlckhvbWVDaGFuZ2UgKyAxMjUpIHtcclxuICAgICAgICAkKFwiLmhlYWRlcl9fbmF2IGxpOm50aC1jaGlsZCgyKSA+IGFcIikuYWRkQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc2Nyb2xsU3RhcnQgPiBoZWFkZXJIb21lQ2hhbmdlICsgMzI1KSB7XHJcbiAgICAgICAgJChcIi5oZWFkZXJfX25hdiBsaTpudGgtY2hpbGQoMikgPiBhXCIpLnJlbW92ZUNsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoc2Nyb2xsU3RhcnQgPiBhYm91dENvbnRhY3RDaGFuZ2UgKyAxMjUgJiYgc2Nyb2xsU3RhcnQgPCBhYm91dENvbnRhY3RDaGFuZ2UgKyAyMjUgJiYgIW1xMTIwMC5tYXRjaGVzKSB7XHJcbiAgICAgICQoXCIuaGVhZGVyX19uYXYgbGk6bGFzdC1jaGlsZCA+IGFcIikuYWRkQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgIH0gZWxzZSBpZiAoKHNjcm9sbFN0YXJ0ID4gc2tpbGxDaGFuZ2UgLSAxMDAgJiYgc2Nyb2xsU3RhcnQgPCBza2lsbENoYW5nZSArIDc3NSkgfHwgKHNjcm9sbFN0YXJ0ID4gY29udGFjdENoYW5nZSAtIDEwMCkpIHtcclxuXHJcbiAgICAgIGlmIChzY3JvbGxTdGFydCA+IGlucHV0TmFtZUNoYW5nZSAtIDEwMCAmJiBzY3JvbGxTdGFydCA8IGlucHV0TmFtZUNoYW5nZSAtIDMwKSB7XHJcbiAgICAgICAgJChcIi5oZWFkZXJfX25hdiBsaTpudGgtY2hpbGQoMikgPiBhXCIpLnJlbW92ZUNsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgICAgJChcIi5oZWFkZXJfX25hdiBsaTpudGgtY2hpbGQoMykgPiBhXCIpLnJlbW92ZUNsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgICAgaWYgKG1xMTIwMC5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAkKFwiLmhlYWRlcl9fbmF2IGxpOm50aC1jaGlsZCg0KSA+IGFcIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgICAgICQoXCIuaGVhZGVyX19uYXYgbGk6bGFzdC1jaGlsZCA+IGFcIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsU3RhcnQgPiBpbnB1dEVtYWlsQ2hhbmdlIC0gMTAwICYmIHNjcm9sbFN0YXJ0IDwgaW5wdXRFbWFpbENoYW5nZSAtIDMwKSB7XHJcbiAgICAgICAgJChcIi5oZWFkZXJfX25hdiBsaTpudGgtY2hpbGQoMikgPiBhXCIpLnJlbW92ZUNsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgICAgJChcIi5oZWFkZXJfX25hdiBsaTpudGgtY2hpbGQoMykgPiBhXCIpLnJlbW92ZUNsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgICAgaWYgKG1xMTIwMC5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAkKFwiLmhlYWRlcl9fbmF2IGxpOm50aC1jaGlsZCg0KSA+IGFcIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgICAgICQoXCIuaGVhZGVyX19uYXYgbGk6bGFzdC1jaGlsZCA+IGFcIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsU3RhcnQgPiB0ZXh0YXJlYUNoYW5nZSAtIDEwMCAmJiBzY3JvbGxTdGFydCA8IHRleHRhcmVhQ2hhbmdlICsgMTI1KSB7XHJcbiAgICAgICAgJChcIi5oZWFkZXJfX25hdiBsaTpudGgtY2hpbGQoMikgPiBhXCIpLnJlbW92ZUNsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgICAgJChcIi5oZWFkZXJfX25hdiBsaTpudGgtY2hpbGQoMykgPiBhXCIpLnJlbW92ZUNsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgICAgaWYgKG1xMTIwMC5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAkKFwiLmhlYWRlcl9fbmF2IGxpOm50aC1jaGlsZCg0KSA+IGFcIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgICAgICQoXCIuaGVhZGVyX19uYXYgbGk6bGFzdC1jaGlsZCA+IGFcIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsU3RhcnQgPiBmb290ZXJDaGFuZ2UgLSAxMDApIHtcclxuICAgICAgICAkKFwiLmhlYWRlcl9fbmF2IGxpID4gYVwiKS5yZW1vdmVDbGFzcyhcImNvbnRyYXN0XCIpO1xyXG4gICAgICAgICQoXCIuaGFtYnVyZ2VyIHNwYW5cIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgICAkKFwiLmhhbWJ1cmdlclwiKS5yZW1vdmVDbGFzcyhcImNvbnRyYXN0XCIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoXCIuaGVhZGVyX19uYXYgbGkgPiBhXCIpLmFkZENsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgICAgJChcIi5oYW1idXJnZXIgc3BhblwiKS5hZGRDbGFzcyhcImNvbnRyYXN0XCIpO1xyXG4gICAgICAgICQoXCIuaGFtYnVyZ2VyXCIpLmFkZENsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICQoXCIuaGVhZGVyX19uYXYgbGkgPiBhXCIpLnJlbW92ZUNsYXNzKFwiY29udHJhc3RcIik7XHJcbiAgICAgICQoXCIuaGFtYnVyZ2VyIHNwYW5cIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgICAgJChcIi5oYW1idXJnZXJcIikucmVtb3ZlQ2xhc3MoXCJjb250cmFzdFwiKTtcclxuICAgIH1cclxuICB9KTtcclxuICAvLyB9XHJcbn1cclxuXHJcbnBvcnRmb2xpby5oYW1idXJnZXJDbGljayA9ICgpID0+IHtcclxuICAkKCcuaGFtYnVyZ2VyJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS50b2dnbGVDbGFzcygnb3BlbicpO1xyXG4gICAgJCgnLmhlYWRlcl9fbmF2ID4gdWwnKS50b2dnbGVDbGFzcygnb3BlbicpO1xyXG4gICAgJChcIm5hdlwiKS5zaG93KCk7XHJcblxyXG4gICAgY29uc3QgbXE3NjggPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDc2OHB4KVwiKTtcclxuICAgIGlmIChtcTc2OC5tYXRjaGVzKSB7XHJcbiAgICAgICQoXCJuYXZcIikudG9nZ2xlQ2xhc3MoJ21xJyk7XHJcbiAgICAgICQoJ25hdiA+IC5oYW1idXJnZXIgPiBzcGFuJykudG9nZ2xlQ2xhc3MoJ21xJyk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbnBvcnRmb2xpby5mbGlja2l0eSA9ICgpID0+IHtcclxuICAkKCcubWFpbi1jYXJvdXNlbCcpLmZsaWNraXR5KHtcclxuICAgIC8vIG9wdGlvbnNcclxuICAgIGNlbGxBbGlnbjogJ2xlZnQnLFxyXG4gICAgY29udGFpbjogdHJ1ZSxcclxuICAgIGFjY2Vzc2liaWxpdHk6IHRydWUsXHJcbiAgICBzZXRHYWxsZXJ5U2l6ZTogdHJ1ZSxcclxuICAgIGNlbGxBbGlnbjogJ2NlbnRlcicsXHJcbiAgICBjZWxsU2VsZWN0b3I6ICcuY2Fyb3VzZWwtY2VsbCcsXHJcbiAgICBpbWFnZXNMb2FkZWQ6IHRydWUsXHJcbiAgICB3cmFwQXJvdW5kOiB0cnVlLFxyXG4gICAgYXV0b1BsYXk6IDMwMDAsXHJcblxyXG4gICAgcGF1c2VBdXRvUGxheU9uSG92ZXI6IGZhbHNlXHJcbiAgfSk7XHJcbn1cclxuXHJcbnBvcnRmb2xpby5lbWFpbEFkZHJlc3MgPSAoKSA9PiB7XHJcbiAgbGV0IGVtYWlsID0gXCJjb250YWN0XCI7XHJcbiAgbGV0IGRvbWFpbiA9IFwiYW5zb25saS5pb1wiO1xyXG4gICQoJy5lbWFpbEFkZHknKS5odG1sKGA8YSBocmVmPVwibWFpbHRvOiR7ZW1haWx9QCR7ZG9tYWlufVwiPiR7ZW1haWx9QCR7ZG9tYWlufTwvYT5gKVxyXG59XHJcblxyXG5wb3J0Zm9saW8uaW5pdCA9ICgpID0+IHtcclxuICBwb3J0Zm9saW8uZW1haWxBZGRyZXNzKCk7XHJcbiAgcG9ydGZvbGlvLmZsaWNraXR5KCk7XHJcbiAgcG9ydGZvbGlvLmhhbWJ1cmdlckNsaWNrKCk7XHJcbiAgcG9ydGZvbGlvLmNvbnRyYXN0TmF2KCk7XHJcbn1cclxuXHJcbiQoKCkgPT4ge1xyXG4gIHBvcnRmb2xpby5pbml0KCk7XHJcbn0pOyJdLCJmaWxlIjoibWFpbi5qcyJ9
